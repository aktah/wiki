---
id: OnPlayerCommandText
title: OnPlayerCommandText
description: Callback นี้ถูกเรียกเมื่อผู้เล่นป้อนคำสั่งผ่านทางหน้าต่างแชทฝั่งไคลเอนต์
tags: ["player"]
---

## คำอธิบาย

Callback นี้ถูกเรียกเมื่อผู้เล่นป้อนคำสั่งผ่านทางหน้าต่างแชทฝั่งไคลเอนต์ คำสั่งจะคืออะไรก็ตามที่ขึ้นต้นด้วยเครื่องหมายทับหรือแสลช เช่น /help

| ชื่อ        | คำอธิบาย                                                 |
| --------- | ----------------------------------------------------------- |
| playerid  | ไอดีของผู้เล่นที่ป้อนคำสั่ง                                         |
| cmdtext[] | คำสั่งที่ถูกป้อนเข้ามา (รวมถึงเครื่องหมายทับด้วย)                       |

## ส่งคืน

มันถูกเรียกในฟิลเตอร์สคริปต์ก่อนเสมอ ดังนั้นการส่งค่าคืนเป็น 1 จะบล็อกไม่ให้สคริปต์อื่น ๆ ได้เห็น

## ตัวอย่าง

```c
public OnPlayerCommandText(playerid, cmdtext[])
{
    if(!strcmp(cmdtext, "/help", true))
    {
        SendClientMessage(playerid, -1, "เซิร์ฟเวอร์: นี่คือคำสั่ง /help!");
        return 1;
        // คืนค่า 1 แจ้งเซิร์ฟเวอร์ว่าคำสั่งนี้ได้รับการประมวลผลแล้ว
        // OnPlayerCommandText จะไม่ถูกเรียกในสคริปต์อื่นอีก
    }
    return 0;
    // คืนค่า 0 แจ้งเซิร์ฟเวอร์ว่าคำสั่งนี้ไม่ได้รับการประมวลผลโดยสคริปต์นี้
    // OnPlayerCommandText มันจะถูกเรียกในสคริปต์อื่นจนกว่าจะมีการคืนค่าเป็น 1
    // หากไม่มีสคริปต์ไหนเลยคืนค่าเป็น 1 ข้อความ 'SERVER: Unknown Command' จะถูกแสดงให้กับผู้เล่น
}
```

## บันทึก

:::tip

NPC สามารถเรียก Callback นี้ได้

:::

## ฟังก์ชั่นที่เกี่ยวข้องกัน

- [SendRconCommand](../../scripting/functions/SendRconCommand.md): ส่งคำสั่ง RCON ผ่านสคริปต์
